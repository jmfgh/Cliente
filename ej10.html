<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form name="credenciales">
        <input type="text" name="nombre"> Nombre<br>

        <input type="password" name="clave1"> Contraseña<br>
        
        <input type="password" name="clave2"> Repetir contraseña<br>
        
        <input type="button" onclick="validar()" value="Validar">
    </form>
    <script>

        var minusculas = "abcdefghijklmnñopqrstuvwxyz";
        var numeros = "0123456789";

        function validar(){

            var nombre = document.credenciales.nombre.value;
            var clave1 = document.credenciales.clave1.value;
            var clave2 = document.credenciales.clave2.value;

            var error = false;
            var mayus = false;
            var minus = false;
            var numero = false;
            var caracter = false;

            for (let i = 0; i < nombre.length; i++) {
                if((minusculas.indexOf(nombre.charAt(i)) == -1) && (numeros.indexOf(nombre.charAt(i)) == -1)){
                    error = true;
                    break;
                }   
            }

            if(!error){
                
                if (clave1 != clave2){
                    alert("Las contraseñas no coinciden.");
                    document.credenciales.clave1.value = "";
                    document.credenciales.clave2.value = "";
                }else{

                        for (let i = 0; i < clave1.length; i++) {
                            if(clave1.charCodeAt(i) >= 65 && clave1.charCodeAt(i) <= 90){
                                mayus = true;
                            }
                            else if(clave1.charCodeAt(i) >= 97 && clave1.charCodeAt(i) <= 122){
                                minus = true;
                            }
                            else if(clave1.charCodeAt(i) >= 48 && clave1.charCodeAt(i) <= 57){
                                numero = true;
                            }
                            else{
                                caracter = true;
                            }
                        }

                        if(mayus && minus && numero && caracter){
                            alert("Bienvenido " + nombre + ". Has iniciado sesión correctamente.");
                        }else{
                            alert("La contraseña introducida no es válida.");
                            document.credenciales.clave1.value = "";
                            document.credenciales.clave2.value = "";
                        }
                    }

            }else{
                alert("El nombre no es válido. Debe contener solo minusculas o numeros.");
                document.credenciales.nombre.value = "";
            }

        }

    </script>
</body>
</html>